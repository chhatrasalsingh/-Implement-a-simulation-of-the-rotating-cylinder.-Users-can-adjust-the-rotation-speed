<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wireframe Rotating Cylinder</title>

    <!-- A-Frame Library -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

    <script>
        // Rotation Component
        AFRAME.registerComponent('rotator', {
            schema: {
                speed: { type: 'number', default: 2.0 }
            },
            tick: function (time, timeDelta) {
                var currentSpeed = window.cylinderSpeed || 2.0;
                var rotationAmount = (currentSpeed * timeDelta) / 1000;
                this.el.object3D.rotation.y += rotationAmount;
            }
        });
    </script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
        }

        #controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid #00ffff;
            border-radius: 8px;
            color: #00ffff;
            font-family: 'Courier New', Courier, monospace;
            text-align: center;
            z-index: 9999;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            background: #444;
            outline: none;
            border-radius: 2px;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #00ffff;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px #00ffff;
            margin-top: -7px;
        }
    </style>
</head>

<body>

<div id="controls">
    <label>ROTATION SPEED: <span id="speedVal">2.0</span></label>
    <input type="range" id="speedSlider" min="0" max="10" step="0.1" value="2.0">
</div>

<a-scene background="color: #050510" fog="type: linear; color: #a0400b; near: 10; far: 50">

    <a-entity position="0 2.5 5" rotation="-15 0 0">
        <a-camera look-controls wasd-controls></a-camera>
    </a-entity>

    <a-light type="ambient" color="#222"></a-light>
    <a-light type="directional" color="#ff9900" intensity="0.8" position="-1 1 -3"></a-light>
    <a-light type="point" color="#00ffff" intensity="1.5" distance="10" position="2 3 2"></a-light>

    <a-entity position="0 0 -4">

        <a-cylinder
            position="0 0.5 0"
            radius="1"
            height="1.5"
            color="black"
            material="roughness: 0.3; metalness: 0.8">
        </a-cylinder>

        <a-entity id="rotatingPart" position="0 2.25 0" rotator>

            <a-cylinder
                radius="1.05"
                height="2"
                segments-radial="24"
                segments-height="12"
                material="color: #00ffff; wireframe: true; opacity: 0.8; emissive: #00ffff; emissiveIntensity: 0.5">
            </a-cylinder>

            <a-cylinder
                radius="0.9"
                height="1.8"
                color="#00ffff"
                opacity="0.1"
                transparent="true">
            </a-cylinder>

            <a-text
                value="MOTOR SHAFT"
                color="#00ffff"
                align="center"
                position="0 0 0"
                scale="0.8 0.8 0.8"
                side="double">
            </a-text>

        </a-entity>

    </a-entity>

    <a-plane
        position="0 0 -5"
        rotation="-90 0 0"
        width="80"
        height="80"
        segments-width="80"
        segments-height="80"
        material="color: #008888; wireframe: true; transparent: true; opacity: 0.15">
    </a-plane>

    <a-plane
        position="0 -0.05 -5"
        rotation="-90 0 0"
        width="100"
        height="100"
        color="#000">
    </a-plane>

    <a-entity id="star-cluster"></a-entity>

</a-scene>

<script>
    window.cylinderSpeed = 2.0;

    const slider = document.getElementById('speedSlider');
    const speedVal = document.getElementById('speedVal');

    slider.addEventListener('input', function (e) {
        var val = parseFloat(e.target.value);
        window.cylinderSpeed = val;
        speedVal.innerText = val.toFixed(1);
    });

    const starCluster = document.querySelector('#star-cluster');

    for (let i = 0; i < 250; i++) {
        let star = document.createElement('a-sphere');
        let x = (Math.random() - 0.5) * 150;
        let y = Math.random() * 80;
        let z = (Math.random() - 0.5) * 100 - 20;

        star.setAttribute('position', ${x} ${y} ${z});
        star.setAttribute('radius', Math.random() * 0.08);
        star.setAttribute('color', '#FFF');
        star.setAttribute('opacity', Math.random() * 0.8);
        starCluster.appendChild(star);
    }
</script>

</body>
</html>
